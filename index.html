<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>git</title>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                //var observer = document.getElementsByClassName('iframe_obs')[0];
                //var observer = observer.getElementsByClassName('chat-scrollable-area__message-container')[0];
                var observer = document.getElementById('elem');
                //var observer = elem.contentWindow.document.querySelector('.chat-scrollable-area__message-container');
                var mo = new MutationObserver(function() {
                    document.getElementById('comment_audio').currentTime = 0;
                    document.getElementById('comment_audio').play();
                });
                var config = {
                    childList: true,
                    subtree: true,
                };
                mo.observe(observer, config);
            });
            
            function log() {
                document.getElementById("comment_audio").currentTime = 0;
                document.getElementById("comment_audio").play();
                var elem = document.getElementById('elem');
                var cls = elem.contentDocument.querySelector('.chat-scrollable-area__message-container');
                //var cls = elem.contentWindow.document.querySelector('.chat-scrollable-area__message-container');
                console.log(cls);
            }
        </script>
    </head>
    <body>
        <div class="iframe_obs">
            <h1>iframe</h1>
            <div class="btn" onclick="log()">console log</div>
            <iframe
                src="https://www.twitch.tv/embed/neth3/chat?parent=ppeptide.github.io"
                height="500"
                width="350"
                id="elem">
            </iframe>
        </div>
        <audio id="comment_audio" preload="auto">
            <source src="pa.mp3" type="audio/mp3">
        </audio>
    </body>
</html>
